{{/* æ–‡ç« åˆ—è¡¨é¡µçš„å¸ƒå±€ */}}

{{ define "main" }}

<div class="posts-list-page">
  <header class="page-header">
    <div class="header-decoration">
      <span class="icon">ğŸ“œ</span>
    </div>
    <h1>{{ .Title }}</h1>
    {{ if .Content }}
    <div class="page-description">{{ .Content }}</div>
    {{ else }}
    <div class="page-description">æ·±å…¥è§£è¯»å„’é‡Šé“ç»å…¸ï¼Œå¯è¿ªç°ä»£äººç”Ÿæ™ºæ…§</div>
    {{ end }}
    
    <div class="classic-categories">
      <a href="/tags/%E8%AE%BA%E8%AF%9D/" class="category-tag ruyu">
        <span class="tag-icon">ğŸ¯</span>
        <span>è®ºè¯­</span>
      </a>
      <a href="/tags/%E9%81%93%E5%AE%B6/" class="category-tag daojia">
        <span class="tag-icon">â˜¯ï¸</span>
        <span>é“å®¶</span>
      </a>
      <a href="/tags/%E4%BD%9B%E5%AE%B6/" class="category-tag fojia">
        <span class="tag-icon">ğŸª·</span>
        <span>ä½›å®¶</span>
      </a>
      <a href="/tags/%E5%93%B2%E5%AE%B6/" class="category-tag rujia">
        <span class="tag-icon">ğŸ“š</span>
        <span>å„’å®¶</span>
      </a>
    </div>
  </header>

  <div class="posts-grid">
    {{ range .Paginator.Pages }}
    <article class="post-card">
      {{ if .Params.cover }}
      <a href="{{ .Permalink }}" class="post-card-cover">
        {{ if .Params.cover.image }}
        <img src="{{ .Params.cover.image }}" alt="{{ .Params.cover.alt | default .Title }}" loading="lazy">
        {{ else }}
        <img src="{{ .Params.cover }}" alt="{{ .Title }}" loading="lazy">
        {{ end }}
        <div class="cover-overlay"></div>
      </a>
      {{ end }}
      
      <div class="post-card-content">
        <div class="post-card-header">
          {{ if .Params.categories }}
          <span class="post-category">{{ index .Params.categories 0 }}</span>
          {{ end }}
        </div>
        
        <h2 class="post-card-title">
          <a href="{{ .Permalink }}">{{ .Title }}</a>
        </h2>
        
        {{ if .Params.description }}
        <p class="post-card-description">{{ .Params.description }}</p>
        {{ else }}
        <p class="post-card-summary">{{ .Summary | plainify | truncate 100 }}</p>
        {{ end }}
        
        <div class="post-card-footer">
          <div class="post-card-meta">
            <time datetime="{{ .Date.Format "2006-01-02T15:04:05Z07:00" }}">
              <span class="meta-icon">ğŸ“…</span>
              {{ .Date.Format "2006å¹´1æœˆ2æ—¥" }}
            </time>
          </div>
          
          {{ if .Params.tags }}
          <div class="post-card-tags">
            {{ range first 2 .Params.tags }}
            <span class="tag">#{{ . }}</span>
            {{ end }}
          </div>
          {{ end }}
        </div>
      </div>
    </article>
    {{ end }}
  </div>

  {{ if gt .Paginator.TotalPages 1 }}
  <nav class="pagination">
    {{ if .Paginator.HasPrev }}
    <a href="{{ .Paginator.Prev.URL }}" class="prev">â† ä¸Šä¸€é¡µ</a>
    {{ end }}
    
    <span class="page-info">ç¬¬ {{ .Paginator.PageNumber }} é¡µï¼Œå…± {{ .Paginator.TotalPages }} é¡µ</span>
    
    {{ if .Paginator.HasNext }}
    <a href="{{ .Paginator.Next.URL }}" class="next">ä¸‹ä¸€é¡µ â†’</a>
    {{ end }}
  </nav>
  {{ end }}
</div>

{{ end }}
