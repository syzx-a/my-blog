{{ define "main" }}

<div class="live-single">
  <article>
    <header class="live-header">
      {{ if (time .Params.livetime).After now }}
      <div class="live-status-banner upcoming">
        ğŸ“… ç›´æ’­é¢„å‘Š | {{ .Params.livetime | time.Format "1æœˆ2æ—¥ 15:04" }}
      </div>
      {{ else }}
      <div class="live-status-banner past">
        âœ… ç›´æ’­å·²ç»“æŸ | å¯æŸ¥çœ‹å›æ”¾
      </div>
      {{ end }}

      <h1>{{ .Title }}</h1>
      
      <div class="live-meta">
        <div class="meta-item">
          <span class="meta-label">ç›´æ’­æ—¶é—´ï¼š</span>
          <time datetime="{{ .Params.livetime }}">
            {{ .Params.livetime | time.Format "2006å¹´1æœˆ2æ—¥ 15:04" }}
          </time>
        </div>
        
        <div class="meta-item">
          <span class="meta-label">ç›´æ’­å¹³å°ï¼š</span>
          <span class="platform-badge">{{ .Params.platform }}</span>
        </div>
      </div>
    </header>

    {{ if .Params.cover }}
    <figure class="live-cover">
      <img src="{{ .Params.cover }}" alt="{{ .Title }}" loading="lazy">
    </figure>
    {{ end }}

    <div class="live-content">
      {{ .Content }}
    </div>

    {{ if and .Params.link (time .Params.livetime).After now }}
    <div class="live-cta">
      <a href="{{ .Params.link }}" class="button button-primary button-large" target="_blank" rel="noopener">
        ğŸš€ å‰å¾€ç›´æ’­é—´
      </a>
      <p class="cta-hint">ç‚¹å‡»ä¸Šæ–¹æŒ‰é’®è·³è½¬åˆ°{{ .Params.platform }}ç›´æ’­é—´</p>
    </div>
    {{ end }}

    {{ if and .Params.link (not ((time .Params.livetime).After now)) }}
    <div class="live-cta">
      <a href="{{ .Params.link }}" class="button button-secondary" target="_blank" rel="noopener">
        ğŸ“º æŸ¥çœ‹å›æ”¾
      </a>
    </div>
    {{ end }}
  </article>

  <nav class="post-nav">
    {{ with .NextInSection }}
    <a class="prev" href="{{ .Permalink }}">
      <span>â† ä¸Šä¸€æœŸ</span>
      <strong>{{ .Title }}</strong>
    </a>
    {{ end }}
    
    {{ with .PrevInSection }}
    <a class="next" href="{{ .Permalink }}">
      <span>ä¸‹ä¸€æœŸ â†’</span>
      <strong>{{ .Title }}</strong>
    </a>
    {{ end }}
  </nav>
</div>

{{ end }}
